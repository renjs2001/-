# C++ primer ç¬”è®°

[TOC]

åŸä¹¦æ‰©å±•ç¤ºä¾‹æºä»£ç åœ°å€ï¼šhttp://www.informit.com/title/0321714113



## ç¬¬ä¸€ç« 

nothing

## ç¬¬äºŒç«  å˜é‡

```c++
//c++åˆå§‹åŒ–çš„ä¸åŒå½¢å¼
int units_sold = 0;
int units_sold = {0};
int units_sold{0}; 
int units_sold(0);
//{} c++11 ä½¿ç”¨{}è¿›è¡Œåˆå§‹åŒ–æ—¶ï¼Œå¦‚æœå­˜åœ¨ä¸¢å¤±ä¿¡æ¯çš„é£é™©ï¼Œåˆ™ç¼–è¯‘å™¨æŠ¥é”™
double ld = 3.1415;
int a{ld};  //error!
int c(ld);  //æ­£ç¡®ä½†ä¸¢å¤±äº†éƒ¨åˆ†ä¿¡æ¯
```

### å£°æ˜å’Œå®šä¹‰

å£°æ˜ä¸€ä¸ªå˜é‡è€Œéå®šä¹‰ï¼Œå…³é”®å­— extern

```c++
extern int i;    //å£°æ˜iè€Œéå®šä¹‰
int j;           //å£°æ˜å¹¶å®šä¹‰j
```

å˜é‡èƒ½ä¸”åªèƒ½è¢«å®šä¹‰ä¸€æ¬¡ï¼Œä½†æ˜¯å¯ä»¥è¢«å¤šæ¬¡å£°æ˜ã€‚

å¤šä¸ªæ–‡ä»¶ä¸­ä½¿ç”¨ä¸€ä¸ªå˜é‡ï¼Œåªæœ‰ä¸€ä¸ªæ–‡ä»¶å¯ä»¥å®šä¹‰ï¼Œå…¶ä»–çš„éƒ½éœ€è¦å£°æ˜ã€‚

### ä½œç”¨åŸŸ

```c++
#include<iostream>
using namespace std;
int main(){
	int i=100,sum=0;
	for(int i=0;i<10;i++)
	    sum+=i;
	cout<<sum<<" "<<i;
	return 0;
} //æ‰§è¡Œç»“æœä¸º45 100 ä½†æœ€å¥½ä¸è¦è¿™ä¹ˆåš
```

### å¼•ç”¨

å˜é‡çš„åˆ«å â€˜&â€™ ï¼Œå¯¹åˆ«åçš„æ“ä½œä¹Ÿä¼šåº”ç”¨åˆ°åŸå˜é‡åä¸Šï¼Œå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªå˜é‡

### æŒ‡é’ˆ

æŒ‡é’ˆä¸å¼•ç”¨çš„åŒºåˆ«ï¼šæŒ‡é’ˆæœ¬èº«å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œå¼•ç”¨åªæ˜¯ä¸€ä¸ªåˆ«åï¼Œå’Œå¼•ç”¨çš„å¯¹è±¡ç»‘å®šåœ¨ä¸€èµ·ã€‚ä¸”æŒ‡é’ˆåœ¨å®šä¹‰æ—¶ä¸æ˜¯å¿…é¡»åˆå§‹åŒ–ï¼Œå¼•ç”¨åˆ™ä¸ç„¶ã€‚

```c++
int ival=42;
int *p = &ival;
cout<<*p;  //42 pæ˜¯ivalçš„åœ°å€ æˆ–æ˜¯æŒ‡å‘å˜é‡ivalçš„æŒ‡é’ˆ


int i=42;
int *pi = 0;
int *pi2 =&i;
int *pi3;

pi3=pi2; //pi3å’Œpi2æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡
pi2=0;
```

#### void*æŒ‡é’ˆ

void*æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹æŒ‡é’ˆï¼Œå¯ä»¥å­˜æ”¾ä»»æ„å¯¹è±¡çš„åœ°å€ã€‚

### constçš„å¼•ç”¨ä¸æŒ‡é’ˆ ï¼ˆå¸¸é‡

å…è®¸const int&ç­‰ç»‘å®šåˆ°æ™®é€šintå¯¹è±¡ä¸Šã€‚æ•ˆæœæ˜¯constç»‘å®šåœ¨ä¸´æ—¶é‡å¯¹è±¡ä¸Šï¼Œä¸å…è®¸é€šè¿‡constå¼•ç”¨ä¿®æ”¹æ™®é€šå¯¹è±¡ã€‚

æŒ‡é’ˆä¸å¼•ç”¨åŸºæœ¬åŒç†ã€‚ä¸å…è®¸é€šè¿‡æŒ‡é’ˆæ”¹å˜æŒ‡å‘çš„å¯¹è±¡

### ç±»å‹åˆ«å

typedef å®šä¹‰ç±»å‹åˆ«å åŒä¹‰è¯ã€‚

### autoç±»å‹è¯´æ˜ç¬¦ c++11

ç•¥

### decltypeç±»å‹æŒ‡ç¤ºç¬¦ c++11

é€‰æ‹©å¹¶è¿”å›æ“ä½œæ•°çš„æ•°æ®ç±»å‹

``` c++
decltype(f()) sum = x ; //sumçš„ç±»å‹å°±æ˜¯å‡½æ•°fçš„è¿”å›ç±»å‹
```

### struct



## ç¬¬ä¸‰ç«  å­—ç¬¦ä¸²ã€å‘é‡å’Œæ•°ç»„

### string

string çš„åˆå§‹åŒ–

```c++
string temp(10,'c');   //cccccccccc
```

å­—ç¬¦ä¸²å¤„ç†

cctypeå¤´æ–‡ä»¶å‡½æ•°

```c++
p82
```

c++ç‰ˆæœ¬çš„cæ ‡å‡†åº“å»æ‰.hå‰é¢åŠ ä¸Šc æ¯”å¦‚cmath cctype



```c++
//èŒƒå›´forè¯­å¥
for(declaration : expression)
//declaration æ˜¯ç±»å‹ expressionæ˜¯ä¸€ä¸ªåºåˆ—ï¼Œä¹Ÿå¯ä»¥æ˜¯æ•°ç»„æˆ–vector
string str="ksjdflkajf";    
for(auto c :str)
    cout<<c<<endl;
```

### vector



### è¿­ä»£å™¨

iterator

è·å–è¿­ä»£å™¨çš„ä¸€ç§æ–¹æ³•

```c++
vector<int> s=(10,5);
auto it=s.begin();
vector<int>::iterator it_s;
*it = toupper(*it);//è¿­ä»£å™¨ä¹ŸåƒæŒ‡é’ˆä¸€æ · è§£å¼•ç”¨ç„¶åè·å–æ‰€æŒ‡ç¤ºçš„å…ƒç´ å¹¶æ“ä½œ
++it;
//ç”±äºend()ä¸æ˜¯æœ€åä¸€ä¸ªå…ƒç´  æ‰€ä»¥ä¸èƒ½ç›´æ¥å°†è¿­ä»£å™¨=end()æ¥è¿›è¡Œ++ â€”â€” ä½†æ˜¯å¯ä»¥*ï¼ˆ--s.end())æ¥å¼•ç”¨æœ€åä¸€ä¸ª
```

tipsï¼šæ³›å‹ç¼–ç¨‹ï¼Œstlå°½é‡ä½¿ç”¨è¿­ä»£å™¨è€Œä¸æ˜¯ä¸‹æ ‡ï¼Œå› ä¸ºæ‰€æœ‰å®¹å™¨éƒ½æœ‰è¿­ä»£å™¨ä½†ä¸æ˜¯éƒ½æœ‰ä¸‹è¡¨ï¼Œé€šè¿‡è¿­ä»£å™¨çš„ï¼=åˆ¤å®šå¯ä»¥æé«˜é€šç”¨æ€§ã€‚

### c++ä¸æ—§ä»£ç çš„æ¥å£

 p111é¡µ

tipsï¼šå°½é‡ä½¿ç”¨æ ‡å‡†åº“ç±»å‹è€Œéæ•°ç»„



### å¤šç»´æ•°ç»„

```c++
int ia[5][5];
//ä½¿ç”¨èŒƒå›´forè¯­å¥å¤„ç†å¤šç»´æ•°ç»„
for(auto &row :ia)
    for(auto *col : row){
        col=cnt;
        ++cnt;
    }
```

## ç¬¬å››ç«  è¡¨è¾¾å¼

ğŸ˜æ”¹å¤©å†è¯´

2021.12.6-

### æˆå‘˜è®¿é—®è¿ç®—ç¬¦

ç‚¹è¿ç®—ç¬¦å’Œç®­å¤´è¿ç®—ç¬¦

ç‚¹è¿ç®—ç¬¦è·å–ç±»å¯¹è±¡çš„ä¸€ä¸ªæˆå‘˜

ç®­å¤´è¿ç®—ç¬¦æ˜¯æŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡çš„ä¸€ä¸ªæˆå‘˜

```c++
string s1="sdfasdf", *p = &s1;
auto n=s1.size();
n = (*p).size();
n = p -> size();//ä¸¤è€…ç­‰ä»·
```

### sizeofè¿ç®—ç¬¦

è¿”å›è¡¨è¾¾å¼æˆ–è€…ä¸€ä¸ªç±»å‹åå­—æ‰€å çš„å­—èŠ‚æ•°

sizeof (type)

sizeof expr

ä¸¤è€…ä¸€æ ·

```c++
Sales_data data;
sizeof(Sales_data);
sizeof data;//equal
```

## ç¬¬äº”ç«  è¯­å¥

### tryè¯­å¥å—å’Œå¼‚å¸¸å¤„ç†

